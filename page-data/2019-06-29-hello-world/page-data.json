{"componentChunkName":"component---src-templates-blog-post-js","path":"/2019-06-29-hello-world/","webpackCompilationHash":"0f86268f1e75e7cbc941","result":{"data":{"site":{"siteMetadata":{"title":"suzukalight.com","author":"suzukalight"}},"markdownRemark":{"id":"33edf3c7-fd37-5b8a-9b77-90aaa2acd6fc","excerpt":"これは何？Gatsby + GitHub Pages でブログを公開するまでの手順背景個人的な発信の場を設け、強化していきたい業務の関係で、月に1,2回ほど内容を更新するブログ的なサイトを作ることになったでもWordPressとかは（技術的興味的な意味で）使いたくないという理由から、WordPress…","html":"<h1>これは何？</h1>\n<p>Gatsby + GitHub Pages でブログを公開するまでの手順</p>\n<h1>背景</h1>\n<ul>\n<li>個人的な発信の場を設け、強化していきたい</li>\n<li>業務の関係で、月に1,2回ほど内容を更新するブログ的なサイトを作ることになった</li>\n<li>でもWordPressとかは（技術的興味的な意味で）使いたくない</li>\n</ul>\n<p>という理由から、WordPress以外の技術で、ブログシステムを構築することになった。</p>\n<p>私個人のスキルセットはフロントエンド（React）に寄っているので、マークアップはReact+Sass系で行いたい。そこでGatsbyを使ってブログシステムを構築することにしてみた。これはその最初のテスト投稿。</p>\n<h1>手順</h1>\n<h3>GitHubに <code class=\"language-text\">[username].github.io</code> の名称でリポジトリを作成</h3>\n<p><a href=\"https://github.com/suzukalight/suzukalight.github.io\">https://github.com/suzukalight/suzukalight.github.io</a></p>\n<p>このリポジトリ名にしておくと、masterブランチが自動的に公開される。</p>\n<h3>Gatsbyの準備</h3>\n<p>gatsby CLI から、スターターキットをインストールすることができる。</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ <span class=\"token function\">npm</span> i -g gatsby\n$ gatsby new suzukalight-github https://github.com/gatsbyjs/gatsby-starter-blog\n$ <span class=\"token function\">cd</span> suzukalight-github</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<h3>デプロイコマンドの準備</h3>\n<p>gh-pagesコマンドをインストールし、GitHub Pagesとして自動公開できるようにする。</p>\n<p>masterブランチは公開ファイル用なので、gatsbyシステム全体は別のブランチにコミットしておく必要がある。私はとりあえず develop にコミットすることとした。</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ <span class=\"token function\">yarn</span> <span class=\"token function\">add</span> -D gh-pages\n$ <span class=\"token function\">git</span> init\n$ <span class=\"token function\">git</span> checkout -b develop\n$ <span class=\"token function\">git</span> commit -am <span class=\"token string\">\"gatsby new\"</span>\n$ <span class=\"token function\">git</span> push origin develop</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3>デプロイ実行</h3>\n<p>以下のデプロイコマンドを package.json に追記する；</p>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">    <span class=\"token property\">\"deploy\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"gatsby build &amp;&amp; gh-pages -d public -b master\"</span></span>  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>これでgatsbyによってサイト生成したのち、gh-pagesによってpublicフォルダがmasterブランチに自動展開される。GitHub Pagesはmasterブランチをホスティングしてくれるので、Gatsbyサイトが <code class=\"language-text\">suzukalight.github.io</code> として公開される。</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ <span class=\"token function\">yarn</span> deploy</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h3>必要に応じて、GitHub Pages の設定を行う</h3>\n<ul>\n<li>\n<p>独自ドメインの設定</p>\n<ul>\n<li>suzukalight.com を割付</li>\n<li>DNS側に、AレコードとALIASレコードを設定</li>\n</ul>\n</li>\n<li>\n<p>HTTPSの強制</p>\n<ul>\n<li>SSLじゃないとPWA対応ができなくなる</li>\n<li>証明書はGitHubが自動で用意してくれる（Let’s Encrypt）</li>\n</ul>\n</li>\n</ul>\n<h1>今後</h1>\n<ul>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> テンプレート変更</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> タグ追加</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" checked disabled> PWA対応</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" checked disabled> SNSカード</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> Contentful 使ってみる</li>\n</ul>","frontmatter":{"title":"Gatsby + GitHub Pages でブログを構築","date":"June 29, 2019","description":"Gatsby + GitHub Pages でブログを公開するまでの手順"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/2019-06-29-hello-world/","previous":null,"next":{"fields":{"slug":"/2019-06-30-site-settings/"},"frontmatter":{"title":"Gatsby での各種サイト設定"}}}}}