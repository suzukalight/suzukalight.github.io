{"componentChunkName":"component---src-components-templates-blog-post-source-github-js","path":"/2019-07-10-links/","webpackCompilationHash":"ac47615105f88f2a4d65","result":{"data":{"site":{"siteMetadata":{"title":"suzukalight.com","author":"suzukalight"}},"markdownRemark":{"id":"e4f1e1cd-20a7-52a3-b99d-a994de1ef5ef","excerpt":"シェアボタン設置Add social share buttons to use react-sharehttps://takumon.com/2018/09/16/ ライブラリを使用することで、Facebook, Twitter, Pocket…","html":"<h1 id=\"シェアボタン設置\"><a href=\"#%E3%82%B7%E3%82%A7%E3%82%A2%E3%83%9C%E3%82%BF%E3%83%B3%E8%A8%AD%E7%BD%AE\" aria-label=\"シェアボタン設置 permalink\" class=\"gatsby-autolink-headers\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>シェアボタン設置</h1>\n<p><span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 255px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 22.352941176470587%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA8UlEQVQY02WOwUoCYRSFfa/WQbsWQQsfoYVtkmYrEkjkpkWkoBBEINaIlNmqSIiioBwEUVAzlZpIccwZR8X//xrHhVlnceHjnHvu9eAocamxEUjzqDWmiO/FZP2hR92Ez1GTQCVIuLbHNzayWMXajzPMXLvZ5JvJ2q3ORcty2TMdmzvnLHkjHB7f8S5gJWewnOuSbMK9kcVfUvAXtyiICpxc0Q9HsEIHjC0bJd9l9eYD5bkzLyy/fhE7faJtzK6orSG75QETCUJOiDaipHTV9UTP+fPojFGh5LLWsdl2ymr98axQSslviQVe9PibFf93fwBiux5MREWtpAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"share buttons\"\n        title=\"\"\n        src=\"/static/d3a9604f5166561e74da5d944792edd6/e7941/share-buttons.png\"\n        srcset=\"/static/d3a9604f5166561e74da5d944792edd6/cf440/share-buttons.png 148w,\n/static/d3a9604f5166561e74da5d944792edd6/e7941/share-buttons.png 255w\"\n        sizes=\"(max-width: 255px) 100vw, 255px\"\n      />\n  </span></p>\n<ul>\n<li><a href=\"https://github.com/suzukalight/suzukalight.github.io/commit/abc303d0d7390174717d1ec86a2cbd47be5f9f26\" target=\"_blank\" rel=\"noopener\">Add social share buttons to use react-share</a></li>\n<li><a href=\"https://takumon.com/2018/09/16/\" target=\"_blank\" rel=\"noopener\">https://takumon.com/2018/09/16/</a></li>\n</ul>\n<p><code class=\"language-text\">react-share</code> ライブラリを使用することで、Facebook, Twitter, Pocketなどへのシェアボタンを配置できます。</p>\n<p>はてブへのシェアボタンについては、<a href=\"https://b.hatena.ne.jp/guide/bbutton\" target=\"_blank\" rel=\"noopener\">はてなブックマークボタン</a>サイトを通して、ボタンを生成します。横長ボタンを選択して、スタイルを調整する形が、react-shareと見た目を揃えやすかったです。</p>\n<h1 id=\"外部リンクに-noopener-や-_blank-を付与する\"><a href=\"#%E5%A4%96%E9%83%A8%E3%83%AA%E3%83%B3%E3%82%AF%E3%81%AB-noopener-%E3%82%84-_blank-%E3%82%92%E4%BB%98%E4%B8%8E%E3%81%99%E3%82%8B\" aria-label=\"外部リンクに noopener や _blank を付与する permalink\" class=\"gatsby-autolink-headers\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>外部リンクに noopener や _blank を付与する</h1>\n<p><code class=\"language-text\">gatsby-remark-external-links</code> を gatsby-transformer-remark のプラグイン設定に追加します。これだけで、記事内の外部リンク表現が自動的に処理され、新タブで開いたり、noopener属性をつけたりすることができます；</p>\n<div class=\"gatsby-code-title\">gatsby-config.js</div>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">    <span class=\"token punctuation\">{</span>\n      resolve<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`gatsby-transformer-remark`</span></span><span class=\"token punctuation\">,</span>\n      options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n          <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">            resolve<span class=\"token punctuation\">:</span> <span class=\"token string\">'gatsby-remark-external-links'</span><span class=\"token punctuation\">,</span></span><span class=\"gatsby-highlight-code-line\">            options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span></span><span class=\"gatsby-highlight-code-line\">              target<span class=\"token punctuation\">:</span> <span class=\"token string\">'_blank'</span><span class=\"token punctuation\">,</span></span><span class=\"gatsby-highlight-code-line\">              rel<span class=\"token punctuation\">:</span> <span class=\"token string\">'noopener'</span><span class=\"token punctuation\">,</span></span><span class=\"gatsby-highlight-code-line\">            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span>          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n<h1 id=\"twitter-の投稿を自動展開する\"><a href=\"#twitter-%E3%81%AE%E6%8A%95%E7%A8%BF%E3%82%92%E8%87%AA%E5%8B%95%E5%B1%95%E9%96%8B%E3%81%99%E3%82%8B\" aria-label=\"twitter の投稿を自動展開する permalink\" class=\"gatsby-autolink-headers\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Twitter の投稿を自動展開する</h1>\n<p><code class=\"language-text\">gatsby-plugin-twitter</code> プラグインをインストールすると、自動展開してくれるようになります；</p>\n<div class=\"gatsby-code-title\">gatsby-config.js</div>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token operator\">...</span><span class=\"token punctuation\">,</span>\n<span class=\"gatsby-highlight-code-line\">    <span class=\"token template-string\"><span class=\"token string\">`gatsby-plugin-twitter`</span></span></span>  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Twitter で対象の投稿を開き、右上のボタンをクリックして「ツイートをサイトに埋め込む」を選択すると、埋め込み用の HTML を得ることができます。このうち <code class=\"language-text\">blockquote</code> のタグだけを markdown にコピペすれば、あとはプラグインが自動的にツイートを展開してくれます；</p>\n<div class=\"gatsby-code-title\">「ツイートをサイトに埋め込む」で得られたHTML</div>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>blockquote</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>twitter-tweet<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">data-dnt</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">align</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>center<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>ja<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">dir</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>ltr<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    カオマンガイ美味しすぎる… <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>https://t.co/3Su9WXz678<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>pic.twitter.com/3Su9WXz678<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token entity\" title=\"&mdash;\">&amp;mdash;</span> suzukalight (@suzukalight)\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>https://twitter.com/suzukalight/status/1131785093582807040?ref_src=twsrc%5Etfw<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    May 24, 2019\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>blockquote</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<blockquote class=\"twitter-tweet\" data-dnt=\"true\" align=\"center\"><p lang=\"ja\" dir=\"ltr\">カオマンガイ美味しすぎる… <a href=\"https://t.co/3Su9WXz678\">pic.twitter.com/3Su9WXz678</a></p>&mdash; suzukalight (@suzukalight) <a href=\"https://twitter.com/suzukalight/status/1131785093582807040?ref_src=twsrc%5Etfw\">May 24, 2019</a></blockquote>\n<p>注意点として、developモードだとツイートが展開されない場合があります。ServiceWorkerやLazyLoadingまわりの設定が、HotReloadingと噛み合わないのかもしれません。productionだと上手くいっていますので、気にせずペタペタして大丈夫だと思います。</p>\n<h1 id=\"iframely-で-oembed-対応リンクを展開する\"><a href=\"#iframely-%E3%81%A7-oembed-%E5%AF%BE%E5%BF%9C%E3%83%AA%E3%83%B3%E3%82%AF%E3%82%92%E5%B1%95%E9%96%8B%E3%81%99%E3%82%8B\" aria-label=\"iframely で oembed 対応リンクを展開する permalink\" class=\"gatsby-autolink-headers\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>iframely で oEmbed 対応リンクを展開する</h1>\n<ul>\n<li><a href=\"https://iframely.com/embed\" target=\"_blank\" rel=\"noopener\">https://iframely.com/embed</a></li>\n<li><a href=\"https://takumon.com/iframely\" target=\"_blank\" rel=\"noopener\">https://takumon.com/iframely</a></li>\n</ul>\n<p>iframelyというサービスを利用すると、oEmbedに対応しているサービスについて、iframe内で表示できるようにしてくれます。（youtubeとかspeakerdeckとか）下記はhatenablogの展開です；</p>\n<iframe src=\"https://hatenablog-parts.com/embed?url=https%3A%2F%2Fdevelopers.relationsgroup.co.jp%2Fentry%2F2018%2F12%2F18%2F120000\" style=\"border: 0; width: 100%; height: 190px;\" allowfullscreen scrolling=\"no\" allow=\"encrypted-media\"></iframe>\n<p>iframelyを利用するためには、専用のスクリプトを取り込む必要があります。React系の場合は、Helmetを使って読み込むコンポーネントを作成すると良い、と公式で案内されていました；</p>\n<div class=\"gatsby-code-title\">components/atoms/Iframely/index.js</div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> Helmet <span class=\"token keyword\">from</span> <span class=\"token string\">'react-helmet'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Iframely</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">componentDidMount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 記事ページから古い記事に遷移したときにもロードされるようにする</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>iframely<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      window<span class=\"token punctuation\">.</span>iframely<span class=\"token punctuation\">.</span><span class=\"token function\">load</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// マークダウンファイルにembed.jsのスクリプトタグを記述しても読み込まれないため</span>\n    <span class=\"token comment\">// コンポーネントでReact Helmetを使って読み込む</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>Helmet<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>script type<span class=\"token operator\">=</span><span class=\"token string\">\"text/javascript\"</span> src<span class=\"token operator\">=</span><span class=\"token string\">\"https://cdn.iframe.ly/embed.js\"</span> charset<span class=\"token operator\">=</span><span class=\"token string\">\"utf-8\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Helmet<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-code-title\">BlogPost.js</div>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>Layout location<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>location<span class=\"token punctuation\">}</span> title<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>siteTitle<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Seo title<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>title<span class=\"token punctuation\">}</span> description<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>description<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n<span class=\"gatsby-highlight-code-line\">      <span class=\"token operator\">&lt;</span>Iframely <span class=\"token operator\">/</span><span class=\"token operator\">></span></span></code></pre></div>\n<p>埋め込む用のリンクは、 <a href=\"https://iframely.com/embed\" target=\"_blank\" rel=\"noopener\">https://iframely.com/embed</a> にて生成します。ここで生成したリンクはReact系には対応していないため、下記の2つの操作が必要になります；</p>\n<ol>\n<li>data-iframely-urlの末尾に <code class=\"language-text\">&amp;omit_script=1</code> と <code class=\"language-text\">&amp;iframe=1</code> を追加</li>\n<li>embed.jsの読み込みを削除</li>\n</ol>\n<p>下記は一般的なWebサイトのURLから、（おそらく）OGPデータを取得した結果です；</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>iframely-embed<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>iframely-responsive<span class=\"token punctuation\">\"</span></span><span class=\"token style-attr language-css\"><span class=\"token attr-name\"> <span class=\"token attr-name\">style</span></span><span class=\"token punctuation\">=\"</span><span class=\"token attr-value\"><span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 140px<span class=\"token punctuation\">;</span> <span class=\"token property\">padding-bottom</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>https://suzukalight.com/<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">data-iframely-url</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>//cdn.iframe.ly/NmXUI7w?omit_script=1&amp;iframe=1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<div class=\"iframely-embed\"><div class=\"iframely-responsive\" style=\"height: 140px; padding-bottom: 0;\"><a href=\"https://suzukalight.com/\" data-iframely-url=\"//cdn.iframe.ly/NmXUI7w?omit_script=1&iframe=1\"></a></div></div>\n<p>以上のように、設定に少しクセはありますが、動画コンテンツやライブデモなどを提供できるようになりますので、設置して見る価値はあると思います。</p>\n<h1 id=\"headingにanchorアイコンを付与\"><a href=\"#heading%E3%81%ABanchor%E3%82%A2%E3%82%A4%E3%82%B3%E3%83%B3%E3%82%92%E4%BB%98%E4%B8%8E\" aria-label=\"headingにanchorアイコンを付与 permalink\" class=\"gatsby-autolink-headers\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>headingにanchorアイコンを付与</h1>\n<p><span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 348px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 28.735632183908045%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAx0lEQVQY062R2wqCYBCE//d/k6AHKKLs16LIgoqiLDuKaQdRL6wL0S+LoqCELhoYGHbYhdkRaZqSx+TGJPnuZfN376kFf4bwPI+D47DfHwmCAMd1WW83RFGEZVlMpxPCMMT3ffzTkd3OvXvmfI6qqti2zXK1ZDgYsDAXiNsBYzREKhqVapVSuYxsaEipUCgW6XV1Wq02NUWhn2lNNmmoTTp6F8MwmIzHzEyTeub3dD0/chzHnC+Xn2K+fpgg8gr5tvTBRxHvuAJtp8qR2/4b+AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"heading anchor\"\n        title=\"\"\n        src=\"/static/5504c1d6d01ed41128fff5bec0168bed/8f6cc/heading-anchor.png\"\n        srcset=\"/static/5504c1d6d01ed41128fff5bec0168bed/cf440/heading-anchor.png 148w,\n/static/5504c1d6d01ed41128fff5bec0168bed/d2d38/heading-anchor.png 295w,\n/static/5504c1d6d01ed41128fff5bec0168bed/8f6cc/heading-anchor.png 348w\"\n        sizes=\"(max-width: 348px) 100vw, 348px\"\n      />\n  </span></p>\n<ul>\n<li><a href=\"https://github.com/suzukalight/suzukalight.github.io/commit/410289641fb4da6aa9f5e107f2b8b243a6154f16\" target=\"_blank\" rel=\"noopener\">Add gatsby-remark-code-titles</a></li>\n</ul>\n<p>Heading要素にアンカーリンクを付与し、鎖マークで取得できるようにします。鎖マークはHeading要素をホバーすると出てくる形です。</p>\n<p><code class=\"language-text\">gatsby-remark-autolink-headers</code> を追加すると、Markdownのheading要素に対して、鎖マークを付与し、アンカーリンクを提供できるようになります。</p>\n<div class=\"gatsby-code-title\">gatsby-config.js</div>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">      resolve<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`gatsby-transformer-remark`</span></span><span class=\"token punctuation\">,</span>\n      options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n          <span class=\"token operator\">...</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">            resolve<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`gatsby-remark-autolink-headers`</span></span><span class=\"token punctuation\">,</span></span><span class=\"gatsby-highlight-code-line\">            options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span></span><span class=\"gatsby-highlight-code-line\">              offsetY<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`100`</span></span><span class=\"token punctuation\">,</span></span><span class=\"gatsby-highlight-code-line\">              icon<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`&lt;svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\">&lt;path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\">&lt;/path>&lt;/svg>`</span></span><span class=\"token punctuation\">,</span></span><span class=\"gatsby-highlight-code-line\">              className<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`gatsby-autolink-headers`</span></span><span class=\"token punctuation\">,</span></span><span class=\"gatsby-highlight-code-line\">            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span>          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>","tableOfContents":"<ul>\n<li><a href=\"/2019-07-10-links/#%E3%82%B7%E3%82%A7%E3%82%A2%E3%83%9C%E3%82%BF%E3%83%B3%E8%A8%AD%E7%BD%AE\">シェアボタン設置</a></li>\n<li><a href=\"/2019-07-10-links/#%E5%A4%96%E9%83%A8%E3%83%AA%E3%83%B3%E3%82%AF%E3%81%AB-noopener-%E3%82%84-_blank-%E3%82%92%E4%BB%98%E4%B8%8E%E3%81%99%E3%82%8B\">外部リンクに noopener や _blank を付与する</a></li>\n<li><a href=\"/2019-07-10-links/#twitter-%E3%81%AE%E6%8A%95%E7%A8%BF%E3%82%92%E8%87%AA%E5%8B%95%E5%B1%95%E9%96%8B%E3%81%99%E3%82%8B\">Twitter の投稿を自動展開する</a></li>\n<li><a href=\"/2019-07-10-links/#iframely-%E3%81%A7-oembed-%E5%AF%BE%E5%BF%9C%E3%83%AA%E3%83%B3%E3%82%AF%E3%82%92%E5%B1%95%E9%96%8B%E3%81%99%E3%82%8B\">iframely で oEmbed 対応リンクを展開する</a></li>\n<li><a href=\"/2019-07-10-links/#heading%E3%81%ABanchor%E3%82%A2%E3%82%A4%E3%82%B3%E3%83%B3%E3%82%92%E4%BB%98%E4%B8%8E\">headingにanchorアイコンを付与</a></li>\n</ul>","frontmatter":{"title":"Gatsby でリンクを扱う／展開する","date":"2019-07-10T00:08:00","description":"シェアボタン設置・外部リンクに noopener や _blank を付与する・Twitter の投稿を自動展開する・iframely で oEmbed 対応リンクを展開する・headingにanchorアイコンを付与","category":"Technology","tags":["gatsby","social","twitter","iframely","anchor"],"hero":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAEaklEQVQ4y5WUC0yTVxTHvyXGB9tU3KKLm0am+JxuGjVzRBOHRmd0bvhGUJyv6QzqiFYFnIhzOrb4GE4NbBiZUJwPAptOKUIRSimt8pS2CIVaxrO1FVuKtvz2fdUsWWay7CYn59x7c37nf87N9wnLPlnAurDlRG7/ktDwNUSELiE+bjH7vg0h5sgi0lP3czX1JOfOxiOTbSBGJmN1aBjBc+bwYfBsNq9dTXp0FAnbN9NoMiEMeVlgcuBbbFkVQuL+7Vw/e5Ao2XSmLx5A4FSBPXtHIz82j02RY9i4dQoFmRdIPHqA6B07mBs0A7/eAq/3fYmAgf2ovKNF2CaqU2Yk06K5hvXuLZo0uYRtDuK1UX0ImPQqo6f2JmLtMA5FBfBN+CgKfgll3+73qSlS02RoQn4+g2nvTUQQBLQ6HUKNIgt9XibXUo6jzvyV2jw5ERFj6effG7+BffAb1Jf1nweyL2wg2vggKk4s587pDdwvLKRWW0uT3oJRe48l84IpURchqG4qSc/I4eD+eNKOxqJOimRX1DgOLh3MzBn9GT65P6FbRyBb78fNyFFUn12PNm4Wuu9DaSgu5L7WgEWC6vR0tLYh/JSWS2Lyb+RnZpN7eAOqM7GcOhTOkWX+TJvShwHDezE/bCi7Vg3m4lJ/inZPpPDAB2RvHEdF6leYyw2YKmqpr6zD7epGyEhK4mR6KTlJx7iyZhJnPptP6XdfkBsRSMzisQweP4gh43oRPaMfqsih5MW8w6mVARz7+A0MWadoLLmNSVdFfZkRZ6cTQZGVS7GiUGw1jpK4EGJnDSM88BVOzB7Gjci5xK4cw/LZ/mRvGY5KfO0yuQx5zCK2jReoOCejsfgGdUoF9aU1uDpdCNW3cjDdSKP00s+c3zaPSytGcnjhBDbNepdDwSNJXDiU0yve5OqeaRT8EIJOHo0yMZzL0R9x9/KPNKoU1BWpMKorRaCo8H5etljhFobCElLPXeL42plkr3sbxa4gEj4dQcKKCWjTD6BP30pZShiqlJ3osxJoyEnGmP8H9cUq6jTlGESgr2VDvlKsUErd7SL0+QX8fkFOyt5wLu4O5vrXC0RFCeivJ1Mt30ll2k6qxbnViqAaxTWMeTcxKpUYi3RUFdzhseMxgs3ShL2lHZulGZvZjF209oYHNFToaKxQY29uoc2owVRyhfZaLXaLGdsDC1Ke7YEUN9FmaaXZ3EK3W3xlW5kG+71y7tXVU1VVhVqr5aHjEf9nmV3wZ5cU9SCYNRo6KstpttpoFtWYxcputxuvx4PH85Senh56vF68Xo/P+0w6e34ueY/3mXnFvWC1O2i3PcThsNPa2opJ/GNI3iKCW0Tvq/sc8F/LIwGdTifuLhednZ1Icbu1A6vNJpoVp8v1j4S/lf3L8JkP6Op+yiPxk3nY6cbu7OZx1xMx7qJT9O4nHpzup1jFu65uj29G3hcAPb7xeJ+1LAFsYkKb3UXHoy4fvMPhwiHCJYh0L51LhV+k0teqD+jx7f8Cn5ZXSQp0BrEAAAAASUVORK5CYII=","aspectRatio":2.0416666666666665,"src":"/static/2d03258db2f9e6efdac8157a9958da85/cb623/twitter.png","srcSet":"/static/2d03258db2f9e6efdac8157a9958da85/d0480/twitter.png 245w,\n/static/2d03258db2f9e6efdac8157a9958da85/e7837/twitter.png 490w,\n/static/2d03258db2f9e6efdac8157a9958da85/cb623/twitter.png 510w","sizes":"(max-width: 510px) 100vw, 510px"}}}}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"source":"github","slug":"/2019-07-10-links/","previous":{"head":{"title":"Gatsby にタグ機能を追加","category":"Technology","tags":["gatsby","tag"],"date":"2019-07-06T20:00:00","slug":"/2019-07-06-tags/","source":"github"},"siteMetadata":{"title":"suzukalight.com"}},"next":{"head":{"title":"Gatsby + Contentful + GitHub Pages ハンズオン","category":"Technology","tags":["hands-on","gatsby","contentful","github pages"],"date":"2019-07-13T00:08:00","slug":"/2019-07-13-contentful-starter/","source":"github"},"siteMetadata":{"title":"suzukalight.com"}}}}}